# aTES (Awesome Task Exchange System)

Сущности:

User:
- 
  - id: int  
  - role: link to permission or str
  - name: str
  - password: str
  - login: str


-----------------------


Task:
-

- id: int
- assign_to: int User.id
- description: str
- completed: bool
- price: int or decimal

События:  
  - задача назначена
  - задача выполнена

Методы:
- crud
- переназначить задачи



----------------------------

Operation (операции по пополнению баланса за выполненные задачи):
-
- id
- author/provider: User.id
- money_count: int or decimal
- datetime: ?

События:  
- Наступило время обнуления счетов

Подписка на события:
- задача назначена (списание)
- задача выполнена (пополнение)

------------------------------------

Personal Account (личный счёт):
-
* id: int
* owner: User.id
* money_count_total: int or decimal


Подписка на события:
- задача назначена (списание)
- задача выполнена (пополнение)
- выдача денег
- обнуление счетов


____________________________________

Work Day Controller:
-
Следит за рабочим днём.  
- Оповещает о том, что настала пора выдачи денег  
- Оповещает о том, что настала пора обнулить счета (хотя это следствие выдачи денег?)


------------------------------------

Analytics:
-
Отдельный сервис который ходит в другие сервисы и аккумулирует информацию  
Ходит в сервис operations, собирает информацию по самой дорогой задаче за день, неделю, месяц
Ходит в сервис personal account и собирает информацию о том сколько попугов ушло в минус и какой сегодня доход (на момент запроса)

